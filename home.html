<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urban Energy - Power Your Community Together</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- fontawesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" /></head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="navbar">
        <div class="container">
            <a class="navbar-brand" href="#">
                <div class="logo-icon">âš¡</div>
                <span>Urban Energy</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#how">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#benefits">How It Works</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#network">Network</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#network">Dashboard</a>
                    </li>
                </ul>
            </div>
            <button class="cta-button d-none d-lg-block">Get Started</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="particles" id="particles"></div>
        
        <div class="container">
            <div class="row align-items-center g-5">
                <div class="col-lg-6">
                    <div class="hero-text">
                        <div class="badge">The Future of Community Energy</div>
                        <h1>
                            Power Your<br>
                            <span class="gradient-text">Community</span><br>
                            Together
                        </h1>
                        <p class="hero-description">
                            Join the urban energy revolution. Generate, share, and trade clean solar energy directly with your neighbors through our blockchain-powered peer-to-peer microgrid network.
                        </p>
                        <div class="button-group">
                            <button class="primary-btn">
                                Join Waitlist
                                <span>â†’</span>
                            </button>
                            <button class="secondary-btn">Learn More</button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="hero-image">
                        <div class="image-container">
                            <img src="https://images.unsplash.com/photo-1509391366360-2e959784a276?w=800" alt="Solar panels on residential rooftops">
                            <div class="image-overlay"></div>
                        </div>
                        <div class="glass-card card-1">
                            <h3>85%</h3>
                            <p>Energy Savings</p>
                        </div>
                        <div class="glass-card card-2">
                              <h3 id="generatedDaily">--</h3>
                              <p>Generated Daily</p>
                            </div>

                    </div>
                </div>
            </div>
        </div>
    </section>
<!-- HOW IT WORKS CONTENT -->
<section>
<div class="section-header" id="how">
    <h2>How It <span class="tit">Works</span></h2>
    <h6 class="para">Transform from energy consumer to prosumer in four simple steps</h6>
</div>

<div class="container how-it-works">
    <div class="row g-4">
        <div class="col-md-6 col-lg-3 ">
            <div class="step-card bg-primary text-white p-3">
                <div class="step-icon">ðŸ”Œ</div>
                <h4>1. Install Solar Panels</h4>
                <p>Set up solar panels on your rooftop to start generating clean energy.</p>
            </div>
    </div>
    <div class="col-md-6 col-lg-3 ">
            <div class="step-card bg-primary text-white p-3">
                <div class="step-icon">ðŸ”Œ</div>
                <h4>1. Install Solar Panels</h4>
                <p>Set up solar panels on your rooftop to start generating clean energy.</p>
            </div>
    </div>
    <div class="col-md-6 col-lg-3 ">
            <div class="step-card bg-primary text-white p-3">
                <div class="step-icon">ðŸ”Œ</div>
                <h4>1. Install Solar Panels</h4>
                <p>Set up solar panels on your rooftop to start generating clean energy.</p>
            </div>
    </div>
    <div class="col-md-6 col-lg-3 ">
            <div class="step-card bg-primary text-white p-3">
                <div class="step-icon">
                    <i class="fa-light fa-sun"></i>
                    <!-- <svg xmlns="http://www.w3.org/2000/svg" height="35px" viewBox="0 0 576 512">!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.<path d="M178.2-10.1c7.4-3.1 15.8-2.2 22.5 2.2l87.8 58.2 87.8-58.2c6.7-4.4 15.1-5.2 22.5-2.2S411.4-.5 413 7.3l20.9 103.2 103.2 20.9c7.8 1.6 14.4 7 17.4 14.3s2.2 15.8-2.2 22.5l-58.2 87.8 58.2 87.8c4.4 6.7 5.2 15.1 2.2 22.5s-9.6 12.8-17.4 14.3L433.8 401.4 413 504.7c-1.6 7.8-7 14.4-14.3 17.4s-15.8 2.2-22.5-2.2l-87.8-58.2-87.8 58.2c-6.7 4.4-15.1 5.2-22.5 2.2s-12.8-9.6-14.3-17.4L143 401.4 39.7 380.5c-7.8-1.6-14.4-7-17.4-14.3s-2.2-15.8 2.2-22.5L82.7 256 24.5 168.2c-4.4-6.7-5.2-15.1-2.2-22.5s9.6-12.8 17.4-14.3L143 110.6 163.9 7.3c1.6-7.8 7-14.4 14.3-17.4zM207.6 256a80.4 80.4 0 1 1 160.8 0 80.4 80.4 0 1 1 -160.8 0zm208.8 0a128.4 128.4 0 1 0 -256.8 0 128.4 128.4 0 1 0 256.8 0z"/></svg></div> -->
                <h4>1. Install Solar Panels</h4>
                <p>Set up solar panels on your rooftop to start generating clean energy.</p>
            </div>
    </div>
</div>
</div>

</section>

<section id="dashboard" class="py-5 bg-dark text-white">
  <div class="container">
    <div class="text-center mb-4">
      <h2>Community <span class="text-success">Dashboard</span></h2>
      <p class="text-secondary">Live peer-to-peer energy trades and summary</p>
    </div>

    <!-- Summary Cards -->
    <div class="row text-center mb-5">
      <div class="col-md-4">
        <div class="p-4 bg-secondary bg-opacity-25 rounded">
          <h4>Total Energy Traded</h4>
          <h2 id="totalEnergy">--</h2>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-4 bg-secondary bg-opacity-25 rounded">
          <h4>Total Value (â‚¹)</h4>
          <h2 id="totalValue">--</h2>
        </div>
      </div>
      <div class="col-md-4">
        <div class="p-4 bg-secondary bg-opacity-25 rounded">
          <h4>COâ‚‚ Saved (kg)</h4>
          <h2 id="co2Saved">--</h2>
        </div>
      </div>
    </div>

    <!-- Trades Table -->
    <div class="table-responsive">
      <table class="table table-striped table-dark table-bordered align-middle">
        <thead class="bg-success text-white">
          <tr>
            <th>Seller</th>
            <th>Buyer</th>
            <th>Units (kWh)</th>
            <th>Value (â‚¹)</th>
          </tr>
        </thead>
        <tbody id="tradeTable"></tbody>
      </table>
    </div>
  </div>
</section>






<!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="jabaskript.js"></script>

   <script>
  const BACKEND_URL = "http://localhost:5000"; // âš™ï¸ replace with Render URL after deployment

  async function updateSummary() {
    try {
      const res = await fetch(`${BACKEND_URL}/api/summary`);
      const data = await res.json();

      document.getElementById("generatedDaily").textContent = data.totalEnergy + " kWh";
      document.getElementById("totalEnergy").textContent = data.totalEnergy;
      document.getElementById("totalValue").textContent = "â‚¹" + data.totalValue;
      document.getElementById("co2Saved").textContent = data.co2Saved;
    } catch (err) {
      console.error("Error fetching summary:", err);
    }
  }

  async function updateTrades() {
    try {
      const res = await fetch(`${BACKEND_URL}/api/trade`);
      const data = await res.json();

      const table = document.getElementById("tradeTable");
      table.innerHTML = "";
      data.trades.forEach(trade => {
        table.innerHTML += `
          <tr>
            <td>${trade.seller}</td>
            <td>${trade.buyer}</td>
            <td>${trade.units}</td>
            <td>â‚¹${trade.total}</td>
          </tr>`;
      });
    } catch (err) {
      console.error("Error fetching trades:", err);
    }
  }

  // Load immediately and refresh every 15s
  updateSummary();
  updateTrades();
  setInterval(() => {
    updateSummary();
    updateTrades();
  }, 15000);
</script>
 
</body>
</html>


